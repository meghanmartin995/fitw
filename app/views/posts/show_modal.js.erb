$('#modal_content').html("<%= j render 'post_content', post: @post, related_posts: @related_posts, next_post: @next_post, previous_post: @previous_post %>");
  var isoGrid = document.querySelector('.grid2');

if (isoGrid) {
  var iso = new Isotope( isoGrid, {
    itemSelector: '.grid-item2',
    layoutMode: 'masonry',
      masonry: {
    columnWidth: '.grid-sizer2',
    horizontalOrder: true,
    isFitWidth: true,
    // stagger: 30,
    // visibleStyle: { transform: 'translateY(0)', opacity: 1 },
    // hiddenStyle: { transform: 'translateY(100px)', opacity: 0 },
  }
});

  imagesLoaded( isoGrid ).on( 'progress', function() {
   iso.layout()
  });
  }
$("#myModal").modal('show');

$('#myModal').on('show.bs.modal', function () {
  const rightArrow = document.querySelector(".right-arrow")
  const leftArrow = document.querySelector(".left-arrow")
  rightArrow.setAttribute('href', '<%= show_modal_path(@next_post) %>');
  leftArrow.setAttribute('href', '<%= show_modal_path(@previous_post) %>');
  document.addEventListener("keyup", function(event) {
    if (event.keyCode == 39) {
      document.querySelector(".right-arrow").click()
    }
    else if (event.keyCode == 37) {
      document.querySelector(".left-arrow").click()
    }
  });
})





