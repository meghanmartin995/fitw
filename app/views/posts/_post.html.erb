<% if @pg_results %>
  <% @pg_results.each do |result| %>
    <% if result.searchable_type == 'Font' %>
        <% font = result.searchable %>
        <% font.posts.each do |post| %>
          <% if post.photo.attached? %>
            <%= link_to '#exampleModal', 'data-toggle' => 'modal', 'data-target' => '#exampleModal' do %>
              <div class="grid-item"><%= cl_image_tag post.photo.key %>
                <% font =  post.fonts.map(&:name).join ', '.titleize %>
                <p><%= font.titleize %></p>
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                view
              </button>
                <% end %>
              </div>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% else %>
  <% posts.each do |post| %>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <% post.fonts.each do |font| %>
              <%= font.name %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <% if post.photo.attached? %>
      <%= link_to '#exampleModal', 'data-toggle' => 'modal', 'data-target' => '#exampleModal' do %>
        <div class="grid-item"><%= cl_image_tag post.photo.key %>
          <% if post.fonts.present? %>
            <% font =  post.fonts.map(&:name).join ', '.titleize %>
            <p><%= font.titleize %></p>
          <% end %>
        </div>
      <% end %>
      <% end %>
  <% end %>
<% end %>
